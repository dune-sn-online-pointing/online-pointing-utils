nohup: ignoring input
Running CC simulations...
Processing CC with energy_cut=0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:21:45 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Energy cut: 0
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 0
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 0
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:21:45 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root already exists, deleting it.
22/10/2025 17:21:46 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
Making clusters...   5% (    1 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:22:23 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:22:23 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:22:23 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root already exists, deleting it.
22/10/2025 17:22:24 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m: 
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:22:59 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:23:00 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:23:00 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 17:23:00 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:23:02 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:23:02 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:23:02 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:23:07 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Energy cut: 5
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4500
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 18000
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root already exists, deleting it.
22/10/2025 17:23:07 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:23:40 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:23:40 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:23:40 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root already exists, deleting it.
22/10/2025 17:23:40 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m: 
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:24:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:24:13 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:24:13 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:24:13 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=1.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:24:19 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Energy cut: 10
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 9000
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 36000
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root already exists, deleting it.
22/10/2025 17:24:19 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
Making clusters...   5% (   10 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:24:53 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:24:53 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:24:53 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m: 
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:25:23 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:25:23 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:25:23 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:25:23 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:25:24 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
22/10/2025 17:25:24 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:25:24 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:25:24 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:25:24 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e10p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=1.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:25:29 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Energy cut: 15
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 13500
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 54000
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:25:29 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:25:30 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:26:09 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:26:09 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:26:09 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m: 
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:26:44 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:26:44 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:26:44 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
22/10/2025 17:26:44 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:26:45 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:26:45 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:26:45 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e15p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=2.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:26:50 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Energy cut: 20
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 18000
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 72000
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:26:50 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
Making clusters...   5% (    5 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:27:25 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:27:25 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:27:25 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m: 
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:27:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:27:57 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:27:57 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
22/10/2025 17:27:57 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:27:58 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:27:58 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:27:58 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e20p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=2.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:28:03 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Energy cut: 25
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 22500
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 90000
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:28:03 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:28:38 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:28:38 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:28:38 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m: 
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:29:11 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:29:11 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:29:11 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
22/10/2025 17:29:11 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:29:12 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:29:12 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:29:12 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e25p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=3.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:29:17 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Energy cut: 30
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 27000
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 108000
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:29:17 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:29:52 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:29:52 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:29:52 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m: 
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:30:22 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:30:23 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:30:23 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
22/10/2025 17:30:23 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:30:24 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:30:24 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:30:24 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e30p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=3.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:30:29 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Energy cut: 35
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 31500
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 126000
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:30:29 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:31:04 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:31:04 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:31:04 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m: 
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:31:38 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:31:39 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:31:39 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:31:39 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e35p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=4.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:31:45 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Energy cut: 40
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 36000
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 144000
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:31:45 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:32:20 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:32:20 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:32:20 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m: 
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:32:54 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:32:54 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:32:54 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:32:54 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:32:52 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
22/10/2025 17:32:52 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TDecompChol::Decompose()>: matrix not positive definite
Error in <TDecompChol::Solve()>: Decomposition failed
Error in <TLinearFitter::Eval>: Matrix inversion failed
Warning in <Minimize>: TLinearFitter failed in finding the solution
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:32:53 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:32:53 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:32:53 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e40p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=4.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:32:58 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Energy cut: 45
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 40500
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 162000
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:32:58 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:33:33 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:33:33 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:33:33 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m: 
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:34:07 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:34:07 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:34:07 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:34:07 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:34:08 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
22/10/2025 17:34:08 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TDecompChol::Decompose()>: matrix not positive definite
Error in <TDecompChol::Solve()>: Decomposition failed
Error in <TLinearFitter::Eval>: Matrix inversion failed
Warning in <Minimize>: TLinearFitter failed in finding the solution
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:34:08 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:34:08 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:34:08 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e45p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=5.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:34:13 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Energy cut: 50
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 45000
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 180000
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:34:13 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:34:14 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:34:49 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:34:49 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:34:49 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m: 
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:35:21 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:35:22 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:35:22 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
22/10/2025 17:35:22 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TDecompChol::Decompose()>: matrix not positive definite
Error in <TDecompChol::Solve()>: Decomposition failed
Error in <TLinearFitter::Eval>: Matrix inversion failed
Warning in <Minimize>: TLinearFitter failed in finding the solution
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:35:23 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:35:23 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:35:23 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e50p0_report.pdf

All requested steps completed, hopefully successfully.
Running ES simulations...
Processing ES with energy_cut=0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:35:25 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Energy cut: 0
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 0
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 0
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:35:25 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:35:26 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:35:59 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:35:59 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:35:59 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    1 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m: 
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:36:31 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:36:31 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:36:31 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 17:36:31 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 17:36:32 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:36:32 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:36:32 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:36:32 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:36:37 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Energy cut: 5
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4500
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 18000
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:36:37 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:36:38 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:37:10 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:37:10 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:37:10 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    1 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m: 
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:37:43 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:37:43 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:37:43 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 17:37:43 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:37:44 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:37:44 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:37:44 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=1.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:37:49 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Energy cut: 10
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 9000
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 36000
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:37:49 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:38:23 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:38:23 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:38:23 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m: 
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:38:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:38:58 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:38:58 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_0.root
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0/clusters_1.root
22/10/2025 17:38:58 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:38:59 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:38:59 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:38:59 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e10p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=1.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:39:04 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Energy cut: 15
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 13500
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 54000
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:39:04 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    1 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:39:38 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:39:38 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:39:38 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    1 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m: 
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:40:08 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:40:08 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:40:08 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:40:08 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_0.root
22/10/2025 17:40:09 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0/clusters_1.root
22/10/2025 17:40:09 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:40:09 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:40:09 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:40:09 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e15p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=2.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:40:14 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Energy cut: 20
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 18000
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 72000
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:40:14 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:40:15 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:40:48 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:40:48 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:40:48 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    1 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m: 
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:41:19 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:41:19 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:41:19 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_0.root
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0/clusters_1.root
22/10/2025 17:41:19 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:41:20 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:41:20 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:41:20 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e20p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=2.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:41:22 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:41:22 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Energy cut: 25
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 22500
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 90000
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:41:23 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:41:56 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:41:56 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:41:56 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m: 
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:42:28 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:42:28 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:42:28 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_0.root
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0/clusters_1.root
22/10/2025 17:42:28 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:42:29 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:42:29 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:42:29 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e25p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=3.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:42:34 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Energy cut: 30
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 27000
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 108000
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:42:34 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
Making clusters...   5% (    7 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:43:08 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:43:08 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:43:08 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    1 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m: 
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:43:39 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:43:39 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:43:39 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_0.root
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0/clusters_1.root
22/10/2025 17:43:39 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:43:40 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:43:40 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:43:40 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e30p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=3.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:43:45 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Energy cut: 35
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 31500
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 126000
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:43:45 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:44:18 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:44:18 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:44:18 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    1 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m: 
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:44:49 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:44:49 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:44:49 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:44:49 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_0.root
22/10/2025 17:44:50 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0/clusters_1.root
22/10/2025 17:44:50 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:44:50 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:44:50 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:44:50 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e35p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=4.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:44:53 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Energy cut: 40
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 36000
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 144000
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:44:53 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    1 it/s)
[1F[1K22/10/2025 17:45:25 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:45:25 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:45:25 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m: 
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:45:57 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:45:57 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:45:57 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:45:57 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_0.root
22/10/2025 17:45:58 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0/clusters_1.root
22/10/2025 17:45:58 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:45:58 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:45:58 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:45:58 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e40p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=4.5

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:46:03 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Energy cut: 45
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 40500
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 162000
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:46:03 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:46:04 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:46:37 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:46:37 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:46:37 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m: 
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:47:07 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:47:08 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:47:08 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_0.root
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0/clusters_1.root
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TDecompChol::Decompose()>: matrix not positive definite
Error in <TDecompChol::Solve()>: Decomposition failed
Error in <TLinearFitter::Eval>: Matrix inversion failed
Warning in <Minimize>: TLinearFitter failed in finding the solution
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:47:08 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e45p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=5.0

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:47:14 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Energy cut: 50
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 45000
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 180000
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 17:47:14 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    1 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 17:47:48 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:47:48 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:47:48 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m: 
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:48:21 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 17:48:21 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 17:48:21 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_0.root
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0/clusters_1.root
22/10/2025 17:48:21 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 17:48:22 [32m[analyze_clusters.cpp][0m: 
22/10/2025 17:48:22 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 17:48:22 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e50p0_report.pdf

All requested steps completed, hopefully successfully.
All simulations completed!
