
init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		true
Run analyze_tps:	false
Run add backgrounds:	true
Run make clusters:	true
Run analyze:		true
Run generate images:	true
Clean clusters (no backgrounds):	false
No compile:		false
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: json/es_valid_test.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j json/es_valid_test.json
Global settings file found, full path is: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile false --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  Compiling the code, these steps need to be run from build/
-- Detected GCC version: 11.4.0
-- [32m[INFO]:[m Looking for ROOT install...
-- [32m[INFO]:[m [ROOT]: ROOT found.
-- [32m[INFO]:[m [ROOT]: ROOT cmake use file /usr/local/cmake/ROOTUseFile.cmake
-- [32m[INFO]:[m [ROOT]: ROOT include directory: /usr/local/include
-- [32m[INFO]:[m [ROOT]: ROOT C++ Flags:  -std=c++17 -pipe -fsigned-char -pthread
-- ROOT compiled with C++17
-- [32m[INFO]:[m nlohmann JSON header found: /usr/local/include/nlohmann/json.hpp
-- [32m[INFO]:[m Adding submodules to the project...
-- [32m[INFO]:[m Looking for simple-cpp-cmd-line-parser submodule...
-- [1;33m[WARN]:[m Checking submodule: simple-cpp-cmd-line-parser
-- [32m[INFO]:[m Git submodule simple-cpp-cmd-line-parser is present
-- [32m[INFO]:[m Looking for simple-cpp-logger submodule...
-- [1;33m[WARN]:[m Checking submodule: simple-cpp-logger
-- [32m[INFO]:[m Git submodule simple-cpp-logger is present
-- [32m[INFO]:[m Looking for cpp-generic-toolbox submodule...
-- [1;33m[WARN]:[m Checking submodule: cpp-generic-toolbox
-- [32m[INFO]:[m Git submodule cpp-generic-toolbox is present
-- [32m[INFO]:[m Configuring ana library...
-- [32m[INFO]:[m Creating plot_avg_times app...
-- [32m[INFO]:[m Creating make_clusters app...
-- [32m[INFO]:[m Creating backtrack_tpstream app...
-- [32m[INFO]:[m Creating analyze_clusters app...
-- [32m[INFO]:[m Creating analyze_tps app...
-- [32m[INFO]:[m Creating extract_calibration app...
-- [32m[INFO]:[m Creating display app...
-- [32m[INFO]:[m Creating add_backgrounds app...
-- [32m[INFO]:[m Creating extract_energy_cut_stats app...
-- [32m[INFO]:[m Creating split_by_apa app...
-- Configuring done
-- Generating done
-- Build files have been written to: /home/virgolaema/dune/online-pointing-utils/build
Consolidate compiler generated dependencies of target split_by_apa
Consolidate compiler generated dependencies of target globalLib
[  5%] Built target split_by_apa
[ 15%] Built target globalLib
Consolidate compiler generated dependencies of target backtrackingLibs
Consolidate compiler generated dependencies of target anaLib
[ 20%] Built target backtrackingLibs
[ 27%] Built target anaLib
Consolidate compiler generated dependencies of target objectsLibs
[ 37%] Built target objectsLibs
Consolidate compiler generated dependencies of target clustersLibs
[ 50%] Built target clustersLibs
Consolidate compiler generated dependencies of target planesMatchingLibs
Consolidate compiler generated dependencies of target analyze_clusters
Consolidate compiler generated dependencies of target plot_avg_times
Consolidate compiler generated dependencies of target make_clusters
Consolidate compiler generated dependencies of target backtrack_tpstream
Consolidate compiler generated dependencies of target analyze_tps
[ 55%] Built target plot_avg_times
[ 60%] Built target analyze_clusters
[ 65%] Built target make_clusters
[ 70%] Built target planesMatchingLibs
[ 75%] Built target backtrack_tpstream
[ 80%] Built target analyze_tps
Consolidate compiler generated dependencies of target add_backgrounds
Consolidate compiler generated dependencies of target extract_energy_cut_stats
Consolidate compiler generated dependencies of target display
Consolidate compiler generated dependencies of target extract_calibration
[ 85%] Built target extract_energy_cut_stats
[ 90%] Built target add_backgrounds
[ 95%] Built target display
[100%] Built target extract_calibration
  Compilation finished successfully!

Running backtrack step with command:
./scripts/backtrack.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
Settings file found, full path is: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/backtrack.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/backtrack_tpstream -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: > backtrack app - extract TPs and attach truth, writing *_tps_bktr<N>.root files (N: backtracker_error_margin).

29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Usage: 
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: bktrMargin {--bktr-margin}: Override backtracker_error_margin (int) (expected: 1 value)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Triggers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: verboseMode {-v,--verbose}: Run in verbose mode (trigger)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: debugMode {-d,--debug}: Run in debug mode (more detailed than verbose) (trigger)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: overrideMode {-f,--override}: Force reprocessing even if output already exists (trigger)


29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Loading JSON config: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Using backtracker_error_margin: 10
29/10/2025 14:59:55 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tpstream
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Number of valid files: 2
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Max files: 2
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Number of files to skip at start: 0
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Output folder (pure signal TPs): /home/virgolaema/dune/online-pointing-utils/data/prod_es/
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Effective time window (TDC ticks): 352 (conversion_tdc_to_tpc=32)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Channel tolerance (channels): 0
Processing files...  50% (  400 it/s)
[1F[1K29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Output already exists, skipping: /home/virgolaema/dune/online-pointing-utils/data/prod_es//prodmarley_nue_flat_es_dune10kt_1x2x2_20250927T182943Z_gen_004499_supernova_g4_detsim_ana_2025-10-21T_095334Z_tps.root (use --override to force reprocessing)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: Output already exists, skipping: /home/virgolaema/dune/online-pointing-utils/data/prod_es//prodmarley_nue_flat_es_dune10kt_1x2x2_20250927T182944Z_gen_004507_supernova_g4_detsim_ana_2025-10-21T_095344Z_tps.root (use --override to force reprocessing)
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: 
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m: List of output files (2):
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es//prodmarley_nue_flat_es_dune10kt_1x2x2_20250927T182943Z_gen_004499_supernova_g4_detsim_ana_2025-10-21T_095334Z_tps.root
29/10/2025 14:59:55 [32m[backtrack_tpstream.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es//prodmarley_nue_flat_es_dune10kt_1x2x2_20250927T182944Z_gen_004507_supernova_g4_detsim_ana_2025-10-21T_095344Z_tps.root

Running add backgrounds step with command:
./scripts/add_backgrounds.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
Settings file found, full path is: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile
Starting script ./scripts/add_backgrounds.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/add_backgrounds -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: > add_backgrounds app - Merge signal TPs with random background events, writing *_tps_bg.root files.

29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Usage: 
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: verboseMode {-v,--verbose}: Run in verbose mode (trigger)
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: debugMode {-d,--debug}: Run in debug mode (more detailed than verbose) (trigger)
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: override {-f,--override}: Override existing output files (trigger)


29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Number of files to skip at start: 0
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Configuration:
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Signal type: cc
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Signal folder (pure signal TPs): /home/virgolaema/dune/online-pointing-utils/data/prod_es/
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Background folder (pure bg TPs): /home/virgolaema/dune/online-pointing-utils/data/bkgs/
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Output folder (merged TPs): /home/virgolaema/dune/online-pointing-utils/data/prod_es/bkgs/
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Add backgrounds around vertex only: NO
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:  - Max files to process: 2
29/10/2025 14:59:55 [32m[utils.cpp][0m: [find_input_files] Called with pattern: sig
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Found 2 signal files
29/10/2025 14:59:55 [32m[utils.cpp][0m: [find_input_files] Called with pattern: bg
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Found 2 background files
Adding backgrounds...  50% (    4 it/s)
[1F[1K29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: 
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: 
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Processed 0 files successfully.
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Output files are in the same directories as input files with '_bkg' suffix.
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: 
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Note: In the output files, background TPs have their original generator labels,
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m:       allowing you to distinguish signal (MARLEY) from background (e.g., radiological).
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: 
29/10/2025 14:59:55 [32m[add_backgrounds.cpp][0m: Output files (0):

Running make clusters step with command:
./scripts/make_clusters.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Usage: 
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: override {-f,--override}: Override existing output files (default: false) (trigger)
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


29/10/2025 14:59:55 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 2
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Number of files to skip at start: 0
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Settings from json file:
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Tick limit: 3
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Channel limit: 2
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Energy cut: 2
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 1800
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 7200
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - ToT cut: 3
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m:  - Max files to process: 2
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Output file /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0/clusters_0.root already exists. Skipping this batch of 10 input files.
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: 
29/10/2025 14:59:55 [32m[make_clusters.cpp][0m: Clustering complete! Generated 0 output file(s):

Running analyze step with command: ./scripts/analyze_clusters.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
Settings file found, full path is: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Usage: 
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


29/10/2025 14:59:56 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
29/10/2025 14:59:56 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Number of valid files: 1
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Max files: 2
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0/clusters_0.root
29/10/2025 14:59:56 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 1 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
29/10/2025 14:59:57 [32m[analyze_clusters.cpp][0m: 
29/10/2025 14:59:57 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
29/10/2025 14:59:57 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0_report.pdf

Running generate cluster images step with command:
/home/virgolaema/dune/online-pointing-utils/scripts/generate_cluster_images.sh -j /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Running: python3 /home/virgolaema/dune/online-pointing-utils/scripts/../python/generate_cluster_arrays.py --json /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json --draw-mode pentagon
Processing at most 2 files (from JSON)
Using JSON config: /home/virgolaema/dune/online-pointing-utils/json/es_valid_test.json
Computed clusters folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0
Computed images folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/images_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0
Output directory: /home/virgolaema/dune/online-pointing-utils/data/prod_es/images_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0
Processing 1 cluster file(s)
Traceback (most recent call last):
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 382, in free_symbols
    return list(
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 93, in _walk_ast_yield_symbols
    yield from _walk_ast_yield_symbols(x, keys, aliases, functions, getter)
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 97, in _walk_ast_yield_symbols
    yield from _walk_ast_yield_symbols(x, keys, aliases, functions, getter)
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 93, in _walk_ast_yield_symbols
    yield from _walk_ast_yield_symbols(x, keys, aliases, functions, getter)
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 76, in _walk_ast_yield_symbols
    raise KeyError(node.id)
KeyError: 'true_interaction'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/virgolaema/dune/online-pointing-utils/scripts/../python/generate_cluster_arrays.py", line 897, in <module>
    file_data = extract_clusters_from_file(cluster_file, repo_root, args.verbose)
  File "/home/virgolaema/dune/online-pointing-utils/scripts/../python/generate_cluster_arrays.py", line 438, in extract_clusters_from_file
    data = tree.arrays(branches, library='np')
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/behaviors/TBranch.py", line 859, in arrays
    arrays, expression_context, branchid_interpretation = _regularize_expressions(
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/behaviors/TBranch.py", line 2974, in _regularize_expressions
    _regularize_expression(
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/behaviors/TBranch.py", line 2842, in _regularize_expression
    for symbol in language.free_symbols(
  File "/home/virgolaema/.local/lib/python3.10/site-packages/uproot/language/python.py", line 388, in free_symbols
    raise uproot.KeyInFileError(
uproot.exceptions.KeyInFileError: not found: 'true_interaction'
in file /home/virgolaema/dune/online-pointing-utils/data/prod_es/clusters_es_valid_test_bg_tick3_ch2_min2_tot3_e2p0/clusters_0.root
in object /clusters/clusters_tree_U;1
Error: Generate images step failed.
