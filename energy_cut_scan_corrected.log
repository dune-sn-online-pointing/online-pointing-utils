nohup: ignoring input
Running CC simulations...
Processing CC with energy_cut=0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:17:46 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Energy cut: 0
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 0
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 0
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:17:46 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:17:47 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
Making clusters...   5% (    1 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:18:20 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:18:20 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:18:20 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m: 
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:18:55 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:18:55 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:18:55 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:18:55 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:18:56 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 18:18:56 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:18:56 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:18:56 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:18:56 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=0.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:19:01 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Energy cut: 0.5
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 450
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 1800
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:19:01 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:19:02 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:19:36 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:19:36 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:19:36 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m: 
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:20:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:20:13 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:20:13 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
22/10/2025 18:20:13 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:20:14 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:20:14 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:20:14 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e0p5_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=1.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:20:17 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Energy cut: 1
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 900
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 3600
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:20:17 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:20:55 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:20:55 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:20:55 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m: 
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:21:32 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:21:32 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:21:32 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:21:32 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:21:33 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
22/10/2025 18:21:33 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:21:34 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:21:34 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:21:34 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=1.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:21:39 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Energy cut: 1.5
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 1350
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 5400
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:21:39 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
Making clusters...   5% (    7 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:22:15 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:22:15 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:22:15 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m: 
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:22:59 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:22:59 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:22:59 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
22/10/2025 18:22:59 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:23:00 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:23:00 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:23:00 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e1p5_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=2.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:23:05 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Energy cut: 2
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 1800
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 7200
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:23:05 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:23:46 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:23:46 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:23:46 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m: 
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:24:24 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:24:24 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:24:24 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
22/10/2025 18:24:24 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:24:25 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:24:25 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:24:25 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=2.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:24:30 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Energy cut: 2.5
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 2250
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 9000
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:24:30 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:25:15 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:25:15 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:25:15 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m: 
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:26:01 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:26:02 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:26:02 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
22/10/2025 18:26:02 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:26:04 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:26:04 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:26:04 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e2p5_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=3.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:26:09 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Energy cut: 3
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 2700
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 10800
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:26:09 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:26:55 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:26:55 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:26:55 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m: 
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:27:36 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:27:36 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:27:36 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
22/10/2025 18:27:36 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:27:38 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:27:38 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:27:38 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=3.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:27:43 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Energy cut: 3.5
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 3150
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 12600
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:27:43 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:28:21 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:28:21 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:28:21 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m: 
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:29:00 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:29:01 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:29:01 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
22/10/2025 18:29:01 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:29:02 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:29:02 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:29:02 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e3p5_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=4.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:29:07 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Energy cut: 4
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 3600
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 14400
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:29:07 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
Making clusters...   5% (    6 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:29:45 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:29:45 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:29:45 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m: 
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:30:22 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:30:22 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:30:22 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
22/10/2025 18:30:22 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:30:23 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:30:23 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:30:23 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p0_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=4.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:30:28 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Energy cut: 4.5
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4050
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 16200
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:30:28 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
Making clusters...   5% (    5 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:31:09 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:31:09 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:31:09 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m: 
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:31:46 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:31:46 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:31:46 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:31:46 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:31:47 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
22/10/2025 18:31:47 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:31:48 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:31:48 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:31:48 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e4p5_report.pdf

All requested steps completed, hopefully successfully.
Processing CC with energy_cut=5.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/cc_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Global settings file found, full path is: /tmp/cc_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/cc_temp.json
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:31:53 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1000
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Energy cut: 5
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4500
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 18000
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:31:53 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:32:32 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:32:32 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:32:32 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m: 
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:33:11 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/cc_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/cc_temp.json
Settings file found, full path is: /tmp/cc_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/cc_temp.json
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:33:11 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:33:11 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports/
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_cc//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 18:33:11 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:33:12 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:33:12 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:33:12 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_cc/reports//clusters_cc_valid_bg_tick3_ch2_min2_tot2_e5p0_report.pdf

All requested steps completed, hopefully successfully.
Running ES simulations...
Processing ES with energy_cut=0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:33:15 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Energy cut: 0
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 0
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 0
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:33:15 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
Making clusters...   5% (    7 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:33:57 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:33:57 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:33:57 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m: 
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:34:31 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:34:32 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:34:32 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_0.root
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0/clusters_1.root
22/10/2025 18:34:32 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:34:33 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:34:33 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:34:33 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=0.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:34:39 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Energy cut: 0.5
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 450
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 1800
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:34:39 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
Making clusters...   5% (    7 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:35:13 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:35:13 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:35:13 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m: 
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:35:51 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:35:51 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:35:51 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:35:51 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_0.root
22/10/2025 18:35:52 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5/clusters_1.root
22/10/2025 18:35:52 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:35:52 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:35:52 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:35:52 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e0p5_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=1.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:35:57 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:35:57 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Energy cut: 1
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 900
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 3600
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:35:58 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
Making clusters...   5% (    5 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:36:32 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:36:32 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:36:32 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m: 
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:37:04 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:37:04 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:37:04 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_0.root
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0/clusters_1.root
22/10/2025 18:37:04 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:37:05 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:37:05 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:37:05 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=1.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:37:10 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Energy cut: 1.5
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 1350
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 5400
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:37:10 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:37:43 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:37:43 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:37:43 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    1 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m: 
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:38:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:38:12 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:38:12 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_0.root
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5/clusters_1.root
22/10/2025 18:38:12 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:38:13 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:38:13 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:38:13 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e1p5_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=2.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:38:16 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Energy cut: 2
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 1800
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 7200
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:38:16 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:38:48 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:38:48 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:38:48 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    1 it/s)
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m: 
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:39:17 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:39:17 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:39:17 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:39:17 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_0.root
22/10/2025 18:39:18 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0/clusters_1.root
22/10/2025 18:39:18 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:39:18 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:39:18 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:39:18 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=2.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:39:23 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Energy cut: 2.5
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 2250
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 9000
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:39:23 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:39:24 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:40:04 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:40:04 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:40:04 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m: 
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:40:38 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:40:39 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:40:39 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_0.root
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5/clusters_1.root
22/10/2025 18:40:39 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:40:40 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:40:40 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:40:40 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e2p5_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=3.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:40:43 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Energy cut: 3
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 2700
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 10800
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:40:43 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:41:17 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:41:17 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:41:17 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m: 
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:41:51 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:41:51 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:41:51 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_0.root
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0/clusters_1.root
22/10/2025 18:41:51 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:41:52 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:41:52 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:41:52 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=3.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:41:57 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Energy cut: 3.5
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 3150
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 12600
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:41:57 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:42:32 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:42:32 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:42:32 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m: 
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:43:05 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:43:05 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:43:05 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_0.root
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5/clusters_1.root
22/10/2025 18:43:05 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:43:06 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:43:06 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:43:06 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e3p5_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=4.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:43:11 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Energy cut: 4
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 3600
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 14400
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:43:11 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
Making clusters...   5% (    9 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:43:44 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:43:44 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:43:44 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m: 
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:44:15 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:44:16 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:44:16 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_0.root
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0/clusters_1.root
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:44:16 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p0_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=4.5 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:44:22 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Energy cut: 4.5
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4050
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 16200
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:44:22 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
Making clusters...   5% (    8 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:45:07 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:45:07 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:45:07 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m: 
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:45:44 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:45:45 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:45:45 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_0.root
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5/clusters_1.root
22/10/2025 18:45:45 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:45:46 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:45:46 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:45:46 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e4p5_report.pdf

All requested steps completed, hopefully successfully.
Processing ES with energy_cut=5.0 MeV

init.sh script started
 Repository home is /home/virgolaema/dune/online-pointing-utils
 Parameters directory is /home/virgolaema/dune/online-pointing-utils/parameters
 WARNING: python environment not found, not activating.
init.sh finished

**************************
Selected options:
Run backtrack:		false
Run analyze_tps:	false
Run add backgrounds:	false
Run make clusters:	true
Run analyze:		true
Clean clusters (no backgrounds):	false
No compile:		true
Clean compile:		false
Override:		false
**************************

**************************
Sample selected: .
Global json settings file provided: /tmp/es_temp.json
**************************
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Global settings file found, full path is: /tmp/es_temp.json 

Using this for all steps, overriding individual jsons.
Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/sequence.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running make clusters step with command:
./scripts/make_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
Starting script ./scripts/make_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running: /home/virgolaema/dune/online-pointing-utils/build//src/app/make_clusters -j /tmp/es_temp.json
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: > Cluster app - build clusters from *_tps.root files.

22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: Usage: 
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (default: data) (expected: 1 value)
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:45:51 [32m[utils.cpp][0m: [find_input_files] Called with pattern: tps
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: Number of valid files (merged TPs): 1004
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m: Settings from json file:
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Base output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Full clusters path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Tick limit: 3
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Channel limit: 2
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Minimum TPs to form a cluster: 2
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Energy cut: 5
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:     - ADC integral cut (induction): 4500
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:     - ADC integral cut (collection): 18000
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - ToT cut: 2
22/10/2025 18:45:51 [32m[make_clusters.cpp][0m:  - Max files to process: 20
22/10/2025 18:45:52 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
Making clusters...   5% (    2 it/s)
[1F[1KMaking clusters...  10% (    0 it/s)
[1F[1KMaking clusters...  15% (    0 it/s)
[1F[1KMaking clusters...  20% (    0 it/s)
[1F[1KMaking clusters...  25% (    0 it/s)
[1F[1KMaking clusters...  30% (    0 it/s)
[1F[1KMaking clusters...  35% (    0 it/s)
[1F[1KMaking clusters...  40% (    0 it/s)
[1F[1KMaking clusters...  45% (    0 it/s)
[1F[1KMaking clusters...  50% (    0 it/s)
[1F[1K22/10/2025 18:46:36 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:46:36 [32m[make_clusters.cpp][0m: Closed output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:46:36 [32m[make_clusters.cpp][0m: Opened new output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
Making clusters...  55% (    0 it/s)
[1F[1KMaking clusters...  60% (    0 it/s)
[1F[1KMaking clusters...  65% (    0 it/s)
[1F[1KMaking clusters...  70% (    0 it/s)
[1F[1KMaking clusters...  75% (    0 it/s)
[1F[1KMaking clusters...  80% (    0 it/s)
[1F[1KMaking clusters...  85% (    0 it/s)
[1F[1KMaking clusters...  90% (    0 it/s)
[1F[1KMaking clusters...  95% (    0 it/s)
[1F[1KMaking clusters... 100% (    0 it/s)
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m: Reached max_files limit (20), stopping.
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m: Writing clustering metadata...
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m: Closed final output file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m: 
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m: Clustering complete! Generated 2 output file(s):
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:47:12 [32m[make_clusters.cpp][0m:   - /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root

Running analyze step with command: ./scripts/analyze_clusters.sh -j /tmp/es_temp.json --no-compile -f false -v false -d false
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Looking for json settings using command: /home/virgolaema/dune/online-pointing-utils/scripts/findSettings.sh -j /tmp/es_temp.json
Settings file found, full path is: /tmp/es_temp.json 

Compiling the code with the following command:
/home/virgolaema/dune/online-pointing-utils/scripts/compile.sh -p /home/virgolaema/dune/online-pointing-utils --no-compile true --clean-compile false
Starting script ./scripts/analyze_clusters.sh
Environment is already initialized, not running init.sh again.
If it is not loaded properly, run export INIT_DONE=false and rerun init.sh
 Got home path as argument
  No compilation was requested. Stopping execution of this script.

Running command: /home/virgolaema/dune/online-pointing-utils/build//src/app/analyze_clusters -j /tmp/es_temp.json
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: > analyze_clusters app - Generate plots from Cluster ROOT files.

22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: Usage: 
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: json {-j,--json}: JSON file containing the configuration (expected: 1 value)
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: inputFile {-i,--input-file}: Input file with list OR single ROOT file path (overrides JSON inputs) (expected: 1 value)
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: outFolder {--output-folder}: Output folder path (optional) (expected: 1 value)
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: verboseMode {-v}: RunVerboseMode, bool (trigger)
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: debugMode {-d}: Run in debug mode (more detailed than verbose) (trigger)


22/10/2025 18:47:12 [32m[utils.cpp][0m: [find_input_files] Called with pattern: clusters
22/10/2025 18:47:12 [32m[utils.cpp][0m: [find_input_files] clusters_folder_path: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: Number of valid files: 2
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: Max files: 20
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: Output folder: /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports/
22/10/2025 18:47:12 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_0.root
22/10/2025 18:47:13 [32m[analyze_clusters.cpp][0m: Input clusters file: /home/virgolaema/dune/online-pointing-utils/data/prod_es//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0/clusters_1.root
22/10/2025 18:47:13 [32m[analyze_clusters.cpp][0m: Generating combined analysis report from 2 file(s)...
Error in <TAxis::SetBinLabel>: Illegal bin number: 141
22/10/2025 18:47:14 [32m[analyze_clusters.cpp][0m: 
22/10/2025 18:47:14 [32m[analyze_clusters.cpp][0m: Summary of produced files (1):
22/10/2025 18:47:14 [32m[analyze_clusters.cpp][0m:  - /home/virgolaema/dune/online-pointing-utils/data/prod_es/reports//clusters_es_valid_bg_tick3_ch2_min2_tot2_e5p0_report.pdf

All requested steps completed, hopefully successfully.
All simulations completed!
